{"ast":null,"code":"var _jsxFileName = \"/home/fernando/Documents/develop/www/cursos/udemy/23_authentication/frontend/src/pages/Authentication.js\";\nimport { redirect } from 'react-router-dom';\nimport AuthForm from '../components/AuthForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthenticationPage = () => {\n  return /*#__PURE__*/_jsxDEV(AuthForm, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 10\n  }, this);\n};\n_c = AuthenticationPage;\nexport default async function Action({\n  request\n}) {\n  const url = new URL(request.url).searchParams.get('mode') === 'login' ? '/login' : '/signup';\n  const data = await request.formData();\n  const authData = {\n    email: data.get('email'),\n    password: data.get('password')\n  };\n  const response = await fetch('http://localhost:8080/auth', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(authData)\n  });\n  if (!response.ok) {\n    throw new Response(JSON.stringify({\n      message: 'Could not authenticate user.'\n    }), {\n      status: 500\n    });\n  } else {\n    return redirect('/events');\n  }\n}\n_c2 = Action;\nvar _c, _c2;\n$RefreshReg$(_c, \"AuthenticationPage\");\n$RefreshReg$(_c2, \"Action\");","map":{"version":3,"names":["redirect","AuthForm","jsxDEV","_jsxDEV","AuthenticationPage","fileName","_jsxFileName","lineNumber","columnNumber","_c","Action","request","url","URL","searchParams","get","data","formData","authData","email","password","response","fetch","method","headers","body","JSON","stringify","ok","Response","message","status","_c2","$RefreshReg$"],"sources":["/home/fernando/Documents/develop/www/cursos/udemy/23_authentication/frontend/src/pages/Authentication.js"],"sourcesContent":["import { redirect } from 'react-router-dom';\nimport AuthForm from '../components/AuthForm';\n\nexport const AuthenticationPage = () => {\n  return <AuthForm />;\n}\n\nexport default async function Action({ request}) {\n  const url = new URL(request.url).searchParams.get('mode') === 'login' ? '/login' : '/signup';\n\n  const data = await request.formData();\n\n  const authData = {\n    email: data.get('email'),\n    password: data.get('password')\n  };\n\n  const response = await fetch('http://localhost:8080/auth', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(authData),\n  });\n\n  if (!response.ok) {\n    throw new Response(JSON.stringify({ message: 'Could not authenticate user.' }),\n      {\n        status: 500,\n      });\n  } else {\n    return redirect('/events'); \n  }\n}"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,QAAQ,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,OAAO,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EACtC,oBAAOD,OAAA,CAACF,QAAQ;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACrB,CAAC;AAAAC,EAAA,GAFYL,kBAAkB;AAI/B,eAAe,eAAeM,MAAMA,CAAC;EAAEC;AAAO,CAAC,EAAE;EAC/C,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAACF,OAAO,CAACC,GAAG,CAAC,CAACE,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC,KAAK,OAAO,GAAG,QAAQ,GAAG,SAAS;EAE5F,MAAMC,IAAI,GAAG,MAAML,OAAO,CAACM,QAAQ,CAAC,CAAC;EAErC,MAAMC,QAAQ,GAAG;IACfC,KAAK,EAAEH,IAAI,CAACD,GAAG,CAAC,OAAO,CAAC;IACxBK,QAAQ,EAAEJ,IAAI,CAACD,GAAG,CAAC,UAAU;EAC/B,CAAC;EAED,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;IACzDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ;EAC/B,CAAC,CAAC;EAEF,IAAI,CAACG,QAAQ,CAACO,EAAE,EAAE;IAChB,MAAM,IAAIC,QAAQ,CAACH,IAAI,CAACC,SAAS,CAAC;MAAEG,OAAO,EAAE;IAA+B,CAAC,CAAC,EAC5E;MACEC,MAAM,EAAE;IACV,CAAC,CAAC;EACN,CAAC,MAAM;IACL,OAAO/B,QAAQ,CAAC,SAAS,CAAC;EAC5B;AACF;AAACgC,GAAA,GA1B6BtB,MAAM;AAAA,IAAAD,EAAA,EAAAuB,GAAA;AAAAC,YAAA,CAAAxB,EAAA;AAAAwB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}